!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("i18nextLocalStorageCache",t):e.i18nextLocalStorageCache=t()}(this,function(){"use strict";function e(e){return o.call(a.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e}function t(){return{enabled:!1,prefix:"i18next_res_",expirationTime:6048e5}}var n={};n.classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n.createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var i=[],o=i.forEach,a=i.slice,r={setItem:function(e,t){if(window.localStorage)try{window.localStorage.setItem(e,t)}catch(n){}},getItem:function(e,t){if(window.localStorage)try{return window.localStorage.getItem(e,t)}catch(n){return}}},c=function(){function i(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];n.classCallCheck(this,i),this.init(e,t),this.type="cache"}return n.createClass(i,[{key:"init",value:function(n){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];this.services=n,this.options=e(i,this.options||{},t())}},{key:"load",value:function(e,t){var n=this,i={},o=(new Date).getTime();window.localStorage&&!function(){var a=e.length;e.forEach(function(e){var c=r.getItem(n.options.prefix+e);c&&(c=JSON.parse(c),c.i18nStamp&&c.i18nStamp+n.options.expirationTime>o&&(i[e]=c)),a--,0===a&&t(null,i)})}()}},{key:"save",value:function(e){if(window.localStorage)for(var t in e)e[t].i18nStamp=(new Date).getTime(),r.setItem(this.options.prefix+t,JSON.stringify(e[t]))}}]),i}();return c.type="cache",c});